$(function(){var e=$("footer"),o=$(window).height()-e.offset().top-e.height(),r=(0<o&&e.css("margin-top",o+"px"),$(".dialog-cookie-bar").on("click",".accept-btn",function(){window.localStorage.setItem("cookie_policy","1"),$(this).closest(".dialog-cookie-bar").hide()}).on("click",".more-btn",function(){$(this).closest(".dialog-cookie-bar").addClass("cookie-fully")}).on("click",".expand-card .card-header",function(){$(this).closest(".expand-card").toggleClass("open")}).toggle(!window.localStorage.getItem("cookie_policy")),"undefined"==typeof SUGGESTION_URI&&"undefined"!=typeof BASE_URI&&(SUGGESTION_URI=BASE_URI+"suggest"),$(".dialog-search"));$(".nav-horizontal-bar .search-icon").on("click",function(){r.show(),r.find("form input").trigger("focus")}),r.on("click",".dialog-close",function(){r.hide()}).on("keyup","form input",function(e){var o=$(this),i=o.val();if(r.toggleClass("inputting",0<i.length),"Enter"===e.key)o.closest("form").trigger("submit");else if("ArrowDown"!==e.key&&"ArrowUp"!==e.key)i=i,t=r.find(".search-suggestion"),"undefined"==typeof SUGGESTION_URI?t.hide():!i||i.length<1?t.html("").hide():$.getJSON(SUGGESTION_URI,{keywords:i},function(e){var n;200==e.code&&(n="",e.data.forEach(function(e,o){o+=1;var i=void 0,t=e;"object"==typeof e&&(i=e.url,t=e.title||e.name),n+=(i?'<li data-url="'.concat(i,'"><span>'):"<li><span>").concat(o,"</span> ").concat(t,"</li>")}),t.html(n).show())});else{var t,n=r.find(".search-suggestion li");if(!(n.length<0)){for(var a=-1,c=0;c<n.length;c++){var l=$(n[c]);if(l.hasClass("active")){a=c,l.removeClass("active");break}}"ArrowDown"===e.key?a=a<n.length-1?a+1:0:"ArrowUp"===e.key&&(a=(a<1?n.length:a)-1);i=n.eq(a);i.addClass("active"),o.val(i.text().replace(/^\d+/,"").trim())}}}).on("click",".input-clear",function(){$(this).prev("input").val("").trigger("keyup")}).on("click",".search-suggestion li",function(){var e=$(this),o=e.data("url");o?window.location.href=o:(e.addClass("active").siblings().removeClass("active"),r.find("form input").val(e.text().replace(/^\d+/,"").trim()),r.find("form").trigger("submit"))})});