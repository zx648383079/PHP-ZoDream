var DefaultLeadTourOption=function(){this.confirmText="完成",this.backText="上一步",this.nextText="下一步",this.cancelText="取消"},LeadTour=(()=>{function t(t,e){var n=this;this.index=-1,this.options=$.extend({},new DefaultLeadTourOption,e),t.on("click",function(t){t.stopPropagation(),t.preventDefault(),n.open()})}return Object.defineProperty(t.prototype,"canBack",{get:function(){return 0<this.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canNext",{get:function(){return this.index<this.options.items.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlayStyle",{set:function(t){this.element.find(".lead-overlay-container").css(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dialogStyle",{set:function(t){this.element.find(".lead-dialog-box").css(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"content",{set:function(t){this.element.find(".message-body").text(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primaryText",{set:function(t){this.element.find(".dialog-footer .btn-default").text(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secondaryText",{set:function(t){this.element.find(".dialog-footer .btn-secondary").text(t)},enumerable:!1,configurable:!0}),t.prototype.next=function(){this.canNext?(this.index++,this.renderStep(this.options.items[this.index])):this.close()},t.prototype.previous=function(){this.canBack?(this.index--,this.renderStep(this.options.items[this.index])):this.close()},t.prototype.open=function(){this.index=-1,this.element||(this.element=$(this.render()),this.bindEvent()),$(document.body).append(this.element),this.next()},t.prototype.close=function(){this.element.remove(),this.element=void 0},t.prototype.bindEvent=function(){var t=this;this.element.on("click",".dialog-footer .btn-default",function(){t.next()}).on("click",".dialog-footer .btn-secondary",function(){t.previous()}).on("click",".dialog-close",function(){t.close()})},t.prototype.renderStep=function(t,e){var n,o,i=this,s=(void 0===e&&(e=0),$(t.selector));s?(n=s.offset(),o=s.scrollTop(),e<3&&(n.top<0||n.top+s.height()>window.innerHeight)?(this.closeModal(),s.scrollTop(o+n.top-window.innerHeight/2),setTimeout(function(){i.renderStep(t,e+1)},500)):this.openModal(s[0].getBoundingClientRect(),t)):this.close()},t.prototype.closeModal=function(){this.overlayStyle={left:"0px",top:"0px",height:"0px",width:"0px"},this.dialogStyle={display:"none"}},t.prototype.openModal=function(t,e){this.overlayStyle={left:t.left+"px",top:t.top+"px",width:t.width+"px",height:t.height+"px"};this.dialogStyle=this.computeModalStyle(t,320,190),this.content=e.content,this.secondaryText=this.canBack?this.options.backText:this.options.cancelText,this.primaryText=this.canNext?this.options.nextText:this.options.confirmText},t.prototype.computeModalStyle=function(t,e,n){var o;return t.bottom+n+10<=window.innerHeight?{left:t.left+"px",top:t.bottom+10+"px"}:0<=(o=t.top-n-10)?{left:t.left+"px",top:o+"px"}:t.right+e+10<=window.innerWidth?{left:t.right+10+"px",top:t.top+"px"}:0<=(o=t.left-e-10)?{left:o+"px",top:t.top+"px"}:{left:(window.innerWidth-e)/2+"px",top:(window.innerHeight-n)/2+"px"}},t.prototype.render=function(){var t;return'\n    <div class="dialog-lead-tour">\n        <div class="lead-overlay-container"></div>\n        <div class="dialog dialog-box lead-dialog-box">\n            <div class="dialog-header">\n                <div class="dialog-title">'.concat(null!=(t=this.options.title)?t:"",'</div>\n                <i class="fa fa-close dialog-close"></i>\n            </div>\n            <div class="dialog-body">\n                <div class="message-body">\n                \n                </div>\n            </div>\n            <div class="dialog-footer">\n                <div class="btn btn-secondary"></div>\n                <div class="btn btn-default"></div>\n            </div>\n        </div>\n    </div>')},t})();jQuery.fn.tour=function(t){return new LeadTour(this,t)};