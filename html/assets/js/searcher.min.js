function bindSearch(){var r=$(".search-box"),l=r.find(".search-input");l.on("keyup","input",function(e){var t=$(this),n=t.val();if(l.find(".clear-btn").toggle(0<n.trim().length),"Enter"!==e.key)if("ArrowDown"!==e.key&&"ArrowUp"!==e.key)n=n,i=r.find(".suggest-body"),$.getJSON(BASE_URI+"search/suggestion",{keywords:n},function(e){var t;200===e.code&&(t="",$.each(e.data,function(e){t+='<li><span class="item-no">'.concat(e+1,'</span><span class="item-text">').concat(this,"</span></li>")}),i.toggle(0<t.length).find("ul").html(t))});else{var i,a=r.find(".suggest-body li");if(!(a.length<0)){for(var s=-1,c=0;c<a.length;c++){var o=$(a[c]);if(o.hasClass("active")){s=c,o.removeClass("active");break}}"ArrowDown"===e.key?s=s<a.length-1?s+1:0:"ArrowUp"===e.key&&(s=(s<1?a.length:s)-1);n=a.eq(s);n.addClass("active"),t.val(n.text().replace(/^\d+/,""))}}}).on("click",".clear-btn",function(){l.find("input").val(""),$(this).hide()}),r.on("click",".suggest-body li",function(){var e;e=$(this).text().trim().replace(/^\d+/,""),l.find("input").val(e),l.trigger("submit")}),$(document).on("click",function(){r.find(".suggest-body").hide()})}